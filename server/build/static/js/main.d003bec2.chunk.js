(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{131:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a(13),r=a.n(c),s=a(21),o=a(175),i=a(176),u=a(56),l=a(162),j=Object(l.a)((function(t){return{container:{backgroundColor:t.palette.primary.main,color:"white",marginBottom:"20px",fontWeight:"lighter",padding:"5px 0"}}})),b=a(8);function d(){var t=j();return Object(b.jsx)(u.a,{variant:"h4",align:"center",className:t.container,children:"Blog"})}var O=a(172),p=a(12),x=a(166),f=a(167),h=a(180),m=a(168),g=a(169),v=a(170),P=a(171),C=a(85),w=a.n(C),S=a(86),k=a.n(S),y=a(84),R=a.n(y),q=Object(l.a)((function(t){return{media:{height:"150px"}}})),F=a(178),N=a(67),T=function(t){return t().type},_=Object(F.a)({getPostsRequest:void 0,getPostsSuccess:function(t){return t},getPostsFailure:function(t){return t}}),D=Object(F.a)({createPostRequest:function(t){return t},createPostSuccess:function(t){return t},createPostFailure:function(t){return t}}),L=Object(F.a)({updatePostRequest:function(t){return t},updatePostSuccess:function(t){return t},updatePostFailure:function(t){return t}}),E=Object(N.a)("SHOW_CREATE_POST_MODAL"),M=Object(N.a)("HIDE_CREATE_POST_MODAL");function A(t){var e=t.post,a=q(),c=Object(s.b)(),r=Object(n.useCallback)((function(){c(L.updatePostRequest(Object(p.a)(Object(p.a)({},e),{},{likeCount:e.likeCount+1})))}),[c,e]);return Object(b.jsxs)(x.a,{children:[Object(b.jsx)(f.a,{avatar:Object(b.jsx)(h.a,{children:"A"}),title:e.author,subheader:R()(e.updatedAt).format("HH:MM MMM DD, YYYY"),action:Object(b.jsx)(m.a,{children:Object(b.jsx)(w.a,{})})}),Object(b.jsx)(g.a,{image:e.attachment,className:a.media,title:"Title"}),Object(b.jsxs)(v.a,{children:[Object(b.jsx)(u.a,{variant:"h5",color:"textPrimary",children:e.title}),Object(b.jsx)(u.a,{variant:"body2",component:"p",color:"textSecondary",children:e.content})]}),Object(b.jsx)(P.a,{children:Object(b.jsxs)(m.a,{children:[Object(b.jsx)(k.a,{onClick:r}),Object(b.jsx)(u.a,{component:"span",color:"textSecondary",children:e.likeCount})]})})]})}var B=function(t){return t.posts.data},H=function(t){return t.modal};function I(){var t=Object(s.b)(),e=Object(s.c)(B);return console.log("\ud83d\ude80 ~ file: index.js ~ line 11 ~ PostList ~ posts",e),Object(n.useEffect)((function(){t(_.getPostsRequest())}),[t]),Object(b.jsx)(O.a,{container:!0,spacing:2,alignItems:"stretch",children:e.map((function(t){return Object(b.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(b.jsx)(A,{post:t})},t._id)}))})}var W=a(88),Y=a.n(W),J=Object(l.a)((function(t){return{fab:{position:"fixed",bottom:t.spacing(2),right:t.spacing(2)}}})),V=a(90),z=a(177),G=a(173),K=a(174),Q=a(179),U=Object(l.a)((function(t){return{paper:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",width:400,backgroundColor:t.palette.background.paper,boxShadow:t.shadows[5],padding:t.spacing(2,4,3)},form:{display:"flex",flexDirection:"column"},header:{margin:"0 0 10px 0"},title:{marginBottom:"10px"},textarea:{padding:"10px",marginBottom:"10px"},footer:{marginTop:"10px"}}})),X=a(87),Z=a.n(X);function $(){var t=Object(n.useState)({title:"",content:"",attachment:""}),e=Object(V.a)(t,2),a=e[0],c=e[1],r=U(),o=Object(s.c)(H).isShow,i=Object(s.b)(),u=Object(n.useCallback)((function(){i(M()),c({title:"",content:"",attachment:""})}),[i]),l=Object(n.useCallback)((function(){console.log("\ud83d\ude80 ~ file: index.js ~ line 30 ~ onSubmit ~ data",a),i(D.createPostRequest(a))}),[a,i]),j=Object(b.jsxs)("div",{className:r.paper,id:"simple-modal-title",children:[Object(b.jsx)("h2",{children:"Create New Post"}),Object(b.jsxs)("form",{noValidate:!0,autoComplete:"off",className:r.form,action:"",children:[Object(b.jsx)(z.a,{className:r.title,required:!0,label:"Title",value:a.title,onChange:function(t){return c(Object(p.a)(Object(p.a)({},a),{},{title:t.target.value}))}}),Object(b.jsx)(G.a,{minRows:10,maxRows:15,placeholder:"Content...",value:a.content,onChange:function(t){return c(Object(p.a)(Object(p.a)({},a),{},{content:t.target.value}))}}),Object(b.jsx)(Z.a,{accept:"image/",multiple:!1,onDone:function(t){var e=t.base64;return c(Object(p.a)(Object(p.a)({},a),{},{attachment:e}))}}),Object(b.jsx)("div",{className:r.footer,children:Object(b.jsx)(K.a,{variant:"contained",color:"primary",component:"span",fullWidth:!0,onClick:l,children:"Create"})})]})]});return Object(b.jsx)("div",{children:Object(b.jsx)(Q.a,{open:o,onClose:u,children:j})})}function tt(){var t=J(),e=Object(s.b)(),a=Object(n.useCallback)((function(){e(E())}),[e]);return Object(b.jsxs)(o.a,{maxWidth:"lg",className:"",children:[Object(b.jsx)(d,{}),Object(b.jsx)(I,{}),Object(b.jsx)($,{}),Object(b.jsx)(i.a,{color:"primary",className:t.fab,onClick:a,children:Object(b.jsx)(Y.a,{})})]})}var et=function(){return Object(b.jsx)(tt,{})},at=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,182)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;a(t),n(t),c(t),r(t),s(t)}))},nt=a(30),ct=a(91),rt=a(25),st=a.n(rt),ot=a(18),it=a(55),ut=a.n(it),lt="http://localhost:5000",jt=function(){return ut.a.get("".concat(lt,"/posts"))},bt=function(t){return ut.a.post("".concat(lt,"/posts"),t)},dt=function(t){return ut.a.post("".concat(lt,"/posts/update"),t)},Ot=st.a.mark(ht),pt=st.a.mark(mt),xt=st.a.mark(gt),ft=st.a.mark(vt);function ht(t){var e;return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ot.a)(jt);case 3:return e=t.sent,console.log("\ud83d\ude80 ~ file: index.js ~ line 7 ~ function*fetchPostSaga ~ posts",e),t.next=7,Object(ot.b)(_.getPostsSuccess(e.data));case 7:t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(0),console.error(t.t0),t.next=14,Object(ot.b)(_.getPostsFailure(t.t0));case 14:case"end":return t.stop()}}),Ot,null,[[0,9]])}function mt(t){var e;return st.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(ot.a)(bt,t.payload);case 3:return e=a.sent,a.next=6,Object(ot.b)(D.createPostSuccess(e.data));case 6:return a.next=8,Object(ot.b)(M());case 8:a.next=15;break;case 10:return a.prev=10,a.t0=a.catch(0),console.error(a.t0),a.next=15,Object(ot.b)(D.createPostFailure(a.t0));case 15:case"end":return a.stop()}}),pt,null,[[0,10]])}function gt(t){var e;return st.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(ot.a)(dt,t.payload);case 3:return e=a.sent,a.next=6,Object(ot.b)(L.updatePostSuccess(e.data));case 6:return a.next=8,Object(ot.b)(M());case 8:a.next=15;break;case 10:return a.prev=10,a.t0=a.catch(0),console.error(a.t0),a.next=15,Object(ot.b)(L.updatePostFailure(a.t0));case 15:case"end":return a.stop()}}),xt,null,[[0,10]])}function vt(){return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ot.c)(_.getPostsRequest,ht);case 2:return t.next=4,Object(ot.c)(D.createPostRequest,mt);case 4:return t.next=6,Object(ot.c)(L.updatePostRequest,gt);case 6:case"end":return t.stop()}}),ft)}var Pt=vt,Ct=a(89),wt={posts:{isLoading:!1,data:[]},modal:{isShow:!1}};var St=Object(nt.b)({posts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt.posts,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T(_.getPostsRequest):return Object(p.a)(Object(p.a)({},t),{},{isLoading:!0});case T(_.getPostsSuccess):case T(_.getPostsFailure):return Object(p.a)(Object(p.a)({},t),{},{isLoading:!1,data:e.payload});case T(D.createPostSuccess):return Object(p.a)(Object(p.a)({},t),{},{data:[].concat(Object(Ct.a)(t.data),[e.payload])});case T(L.updatePostSuccess):return Object(p.a)(Object(p.a)({},t),{},{data:t.data.map((function(t){return t._id===e.payload._id?e.payload:t}))});default:return t}},modal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt.modal,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T(E):return Object(p.a)(Object(p.a)({},t),{},{isShow:!0});case T(M):return Object(p.a)(Object(p.a)({},t),{},{isShow:!1});default:return t}}}),kt=Object(ct.a)(),yt=Object(nt.d)(St,Object(nt.a)(kt));kt.run(Pt),r.a.render(Object(b.jsx)(s.a,{store:yt,children:Object(b.jsx)(et,{})}),document.getElementById("root")),at()}},[[131,1,2]]]);
//# sourceMappingURL=main.d003bec2.chunk.js.map